(()=>{"use strict";const e=window.React,{registerBlockType:t}=wp.blocks,{InspectorControls:s,useBlockProps:o}=wp.blockEditor,{PanelBody:l,CheckboxControl:a}=wp.components,{useSelect:n}=wp.data;t("roadmapwp-pro/new-idea-form",{title:"New Idea Form",category:"common",attributes:{selectedStatuses:{type:"object",default:{}},selectedTaxonomies:{type:"object",default:{}},onlyLoggedInUsers:{type:"boolean",default:!1}},edit:({attributes:t,setAttributes:c})=>{const r=n((e=>e("core").getEntityRecords("taxonomy","status",{per_page:-1})),[]),d=n((e=>{const t=e("core").getTaxonomies();return t?t.filter((e=>e.types.includes("idea")&&"status"!==e.slug)):[]}),[]);return(0,e.createElement)("div",{...o()},(0,e.createElement)(s,null,(0,e.createElement)(l,{title:"Select Statuses for New Idea"},r&&r.map((s=>(0,e.createElement)(a,{key:s.id,label:s.name,checked:!!t.selectedStatuses[s.id],onChange:e=>((e,s)=>{const o={...t.selectedStatuses,[e]:s};c({selectedStatuses:o})})(s.id,e)})))),(0,e.createElement)(l,{title:"Idea Taxonomies"},d&&d.map((s=>(0,e.createElement)(a,{key:s.slug,label:s.name,checked:!!t.selectedTaxonomies[s.slug],onChange:e=>((e,s)=>{const o={...t.selectedTaxonomies,[e]:s};c({selectedTaxonomies:o})})(s.slug,e)})))),(0,e.createElement)(l,{title:"Access Control"},(0,e.createElement)(a,{label:"Allow only logged in users to see this form?",checked:t.onlyLoggedInUsers,onChange:e=>c({onlyLoggedInUsers:e})}))),(0,e.createElement)("p",null,"New Idea Form will be displayed here."))},save:({attributes:t})=>{const s=Object.keys(t.selectedStatuses).filter((e=>t.selectedStatuses[e])).join(","),o=Object.keys(t.selectedTaxonomies).filter((e=>t.selectedTaxonomies[e])).join(",");return(0,e.createElement)("div",{"data-selected-statuses":s,"data-selected-taxonomies":o},(0,e.createElement)("p",null,"New Idea Form will be displayed here."))}})})();